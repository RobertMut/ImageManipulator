<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:i="using:Avalonia.Xaml.Interactivity"
             xmlns:iac="using:Avalonia.Xaml.Interactions.Core"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:paz="using:Avalonia.Controls.PanAndZoom"
             mc:Ignorable="d"
             x:Class="ImageManipulator.Presentation.Views.TabControlView"
		     xmlns:vm="clr-namespace:ImageManipulator.Application.ViewModels"
			 xmlns:ext="using:ImageManipulator.Application.Common.Converters">
	<UserControl.Resources>
		<ext:BitmapConverter x:Key="variableImage"/>
	</UserControl.Resources>

	<Grid Height="{Binding Height}">
		<Grid.ColumnDefinitions>
			<ColumnDefinition MinWidth="300" Width="0.7*"/>
			<ColumnDefinition MinWidth="150" Width="0.3*"/>
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition Height="{Binding Height}"/>
		</Grid.RowDefinitions>
		<!--<StackPanel HorizontalAlignment="Left" Orientation="Horizontal" Grid.Column="0" Grid.Row="0">
			<ComboBox Name="ZoomSelect" SelectedIndex="0">
				<i:Interaction.Behaviors>
					<iac:EventTriggerBehavior EventName="SelectionChanged" SourceObject="{Binding #ZoomSelect}">
					</iac:EventTriggerBehavior>
				</i:Interaction.Behaviors>
				<ComboBoxItem>100%</ComboBoxItem>
				<ComboBoxItem>75%</ComboBoxItem>
				<ComboBoxItem>50%</ComboBoxItem>
				<ComboBoxItem>25%</ComboBoxItem>
			</ComboBox>
			<Button>Reset!</Button>
		</StackPanel>-->
		<ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Auto" AllowAutoHide="True" HorizontalContentAlignment="Left" VerticalAlignment="Top">
			<paz:ZoomBorder Name="ZoomBorder" Stretch="None" ZoomSpeed="1.2"
                            ClipToBounds="True" Focusable="True"
                            VerticalAlignment="Stretch" HorizontalAlignment="Stretch" PanButton="Left">
				<!--<i:Interaction.Behaviors>
					<iac:KeyDown TargetControl="ZoomBorder"/>
				</i:Interaction.Behaviors>-->
				<Image Source="{Binding Image}"/>
			</paz:ZoomBorder>
		</ScrollViewer>

		<Grid Grid.Column="1">
			<Grid.RowDefinitions>
				<RowDefinition Height="*" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>
			<Image Source="{Binding RGBGraph, Converter={StaticResource variableImage}}"
				Stretch="Uniform"
				HorizontalAlignment="Center"
				VerticalAlignment="Center"
				Grid.Row="0" Opacity="0.75" />
			<Image Source="{Binding LuminanceGraph, Converter={StaticResource variableImage}}"
				Stretch="Uniform"
				HorizontalAlignment="Center"
				VerticalAlignment="Center"
				Grid.Row="1" Opacity="0.75" />
		</Grid>
	</Grid>
</UserControl>